Обзор программного обеспечения для эквайринговых решений банковской процессинговой системы, отвечающих за взаимодействие между POS терминалами и сервером
Ключевые слова: банковского эквайринга, процессинг, электронные платежи, пластиковым картам, POS терминал.

Аннотация
Статья включает в себя результаты исследования существующих решений в сфере банковского эквайринга, а также выбор метода решения для проектирования аналогичной системы. Данные о существующих аналогах получены путем изучения открытой информации на сайтах производителей. В итоге, получена некая сравнительная характеристика существующих систем и выбран метод решения для построения аналогичной системы. Данная статья является основой для последующей разработки программного обеспечения.

Введение
Сегодня, с увеличивающимися объемами электронных платежей в торговле, совершающихся по банковским пластиковым картам, требуется соответствующее качественное ПО, обеспечивающее взаимодействие между POS терминалами, установленными в торговой точке, и процессинговым центром банка. Такое программное обеспечение (далее - ПО) помимо такого качества как отказоустойчивость должно надежно защищать данные при передаче по сети, чтобы сберечь денежные средства клиентов от похищения злоумышленниками. Все больше и больше покупателей предпочитают безналичную оплату по банковской карте или смартфоном с NFC чипом в различных торговых точках. По статистике ЦБ РФ, по итогам 2016 года объем эмиссии карт российских банков вырос на 4,5% в сравнении с 2015 годом. Количество действующих пластиковых карт, выпущенных российскими кредитными организациями, приблизилось к 255 млн. штук. В совокупном объеме торговли доля оплаты картами товаров и услуг увеличилась с 3,5% в 2009 году до 30,5% в 2016 году. Помимо всего вышеперечисленного у оплаты по банковской карте существует еще одно немаловажное достоинство. Если клиент использует безналичную оплату, то его сбережения хранятся в банке, где эти денежные средства вовлечены в оборот, тем самым развивая экономику страны. Таким образом вышеперечисленные факты делают задачу обеспечения возможности совершать платежи по пластиковым картам весьма актуальной и полезной обществу.

Целью данной статьи является исследования существующих решений в сфере банковского эквайринга, а также выбор метода решения для проектирования аналогичной системы.

Задачи:

Рассмотреть актуальные решения в сфере аналогичного ПО, обеспечивающего возможность принимать к оплате платежные карты (банковского эквайринга).
Сделать выводы о существующих аналогов.
Предложить модульную концепцию архитектуры приложения.
Объектом исследования является ПО для обеспечения взаимодействия процессингового центра и POS терминалов по стандарту ISO 8583 [1]. Предметом исследования является процесс взаимодействия между процессинговым центром и POS терминалами по стандарту ISO 8583: формирование финансовых сообщений, принципы их передачи и обработки в процессинговом центре.

Принцип отбора аналогов
Все представленные к сравнению системы являются программным обеспечением, которое предназначено для установки в процессинговые центры банков и решает задачи по обеспечению коммуникации и взаимодействия между POS терминалом и хостом (процессинговым центром). Аналоги отбирались по идентичной функциональности в предметной области. Но каждая система отличается от другой помимо архитектурного дизайна ПО и языков программирования, на которых данное ПО написано, еще протоколами взаимодействия.

ACI ACQUIRER[2]
ACI ACQUIRER – продукт компании ACI Worldwide для поддержки банковского эквайринга. ACI Acquirer хранит и управляет торговыми счетами и их историями и поддерживает полный жизненный цикл обработки бэк-офиса, включая настройку условий и положений торгового соглашения, открытие счетов, управление учетными записями, управление транзакциями, торговое обслуживание, выставление счетов и расчеты. Продукт ACI ACQUIRER широко распространен в Северной Америке и Европе. Помимо основных функций ACI ACQUIRER включает в себя улучшенную функциональность для формирования налоговых расчетов и отчетности по законодательству США.

Card Suite Acquiring[4]
Card Suite Acquiring – продукт компании Tieto, предлагающий гибкое и надежное решение для управления данными о торговых предприятиях и расчетов с ними, а также осуществления авторизации и клиринга. Продукт включает в себя несколько модулей, для комплексного решения по обслуживанию эквайрингового бизнеса. Модули позволяют управлять данными о торговых предприятиях, контролировать жизненный цикл POS терминала, а также производить авторизации эквайеров.

WAY4 Merchant[3][5]
WAY4 Merchant – продукт компании OpenWay Group, является многосоставной системой для осуществления банковской эквайринга. Запуск, преобразование и оптимизация различных бизнес-моделей торгового эквайринга на одной технологической платформе - от традиционного POS-эквайринга и электронной коммерции до смарт-POS, торговых кошельков, невидимых платежей, платежей в приложениях и социальных сетях.

Критерии сравнения аналогов
Протокол – сложность протокола, по которому происходит взаимодействие между терминалом и хостом, а также его расширяемость. От сложности протокола зависит и сложность разработки и последующего сопровождения всей системы. Чем проще и легковеснее будет протокол, тем проще будет разработать и сопровождать систему. Так же протокол должен быть хорошо масштабируемым, то есть добавление измений в протокол по поддержки новых технологий, не приводило в неработоспособное состояние уже функционирующую систему.
Гибкость системы – из скольких компонентов состоит продукт. Продук не должен быть гигантской монолитной системой, которая помимо выполнения необходимых функций поставляется в комплекте с кучей лишней функциональности, которая ненужна клиенту в решении его проблемы. Также в монолитный продукт труднее добавлять новую функциональность.
Поддержка мультивалютных платежей – важно, потому что чем больше поддерживается валют платежей, тем шире география применимости системы.
Продукт	Протокол	Гибкость системы	Поддержка мультивалютных платежей
ACI ACQUIRER	SPDH – собственная разработка компании, не реализует стандарт ISO 8583. Отсюда возникает закрытость стандарта, следовательно невозможно использовать данный протокол при интеграции с другими системами.	Поставляется в комплекте с модулями, от которых зависит данное приложение, то есть по своей сути является монолитной системой	Поддерживается множество валют.
Card Suite Acquiring	Использует собственную реализацию протокола, основанную на стандарте ISO 8583, что добавляет системе гибкости при интеграции с другими системами и упрощает его поддержку	Поставляется в комплекте с другими модулями, принося с собой лишнюю функциональность, усиливая связанность между модулями.	Поддерживается множество валют.
WAY4 Merchant	Использует собственную реализацию протокола, основанную на стандарте ISO 8583, что добавляет системе гибкости при интеграции с другими системами и упрощает его поддержку	Представляет собой целую систему решающую целый комплекс задач, касающихся банковского эквайринга и обслуживанию продавцов, что лишает систему легкости и гибкости в случае необходимости использования только части функционала	Поддерживается множество валют.
Выводы по итогам сравнения
В результате сравнения было выявлено, что существующие системы являются комплексными решениями и охватывают большую область решаемых задач и являются единым целым. Рассмотренные системы лишены гибкости разбираться на меньшие функциональные модули, каждый из которых решает только одно конкретную задачу. Это приводит к негативным последствиям в том случае, если пользователь не желает использовать весь предоставляемый функционал данными системами. К тому же рассмотренные системы имеют архитектуру, заложенную еще в 80-90-х годах прошлого столетия, тем самым неся собой тяжелую ношу в виде постоянной поддержки обратной совместимости и устаревших технологий, с тех же времен растут корни и комплексных решений, когда считалось, что поставляемое ПО должно быть «монолитной системой» и решать абсолютно все задачи. Продукт ACI ACQUIRER реализует собственный протокол SPDH, что создает «стену» при попытке интеграции системы с продуктами других производителей.

2. Выбор метода решения
2.1 Требования к решению:
Работать на JVM версии не ниже 1.8.
Работать с СУБД Oracle и PostgreSQL.
Решение должно быть реализовано c использованием технологии Spring Boot.
Принимать к оплате карты основных платежных систем: MasterCard, VISA, UnionPay, Maestro, МИР.
Принимать к оплате карты выпущенные не только банком эквайером, но и сторонним банком.
Решение должно быть легко интегрируем в существующее программное окружение компании.
2.2 Описание метода решения
Исходя из изученных существующих аналогов, было принято решение найти свой собственный подход к решению поставленной задачи. Метод решения состоит из следующих задач:

Необходимо разработать собственный протокол, основанный на стандарте ISO8583. Именно по этому протоколу и будет осуществляться взаимодействие между POS терминалом и сервером процессиногового центра. Также по протоколу предполагается передача данных всех финансовых транзакций, прошедших в торговой точки через POS терминал. Помимо данных о финансовых транзакций протокол будет поддерживть передачу административных сообщений, например, о смене ключей шифрования, о настройке сети и т.д.
Также необходиом разработать архитектуру приложения. Было решено, что архитектура должна быть модульной, чтобы облегчить поддержку и увеличить масштабируемость системы. Итак, архитекута приложния должна состоять из трех модулей:
Модуль управления терминалами - отвечает за первичную обработку сообщения от терминала. Модуль ответственен за учет всех видов терминалов (POS-терминалы, банкоматы, киоски, импринтеры), учет логических устройств, первичный прием операции с устройства и обогащения её дополнительными данными.
Модуль обработки транзакции, полученной от терминала. Модуль является расширением модуля управления терминалами в части поддержки операций специфичных для POS-терминалов.
Модуль упраления безопасностью. Модуль предназначен для формирования, хранения и обработки ключей безопасности, также отчечает за взаимодействие с HSM. HSM (Hardware Security Module) - это физическое вычислительное устройство, которое позволяет формировать, хранить и управлять цифровыми ключами, а также производить различные криптографические операции.
Заключение
В данной статье были рассмотрены системы, решающие задачи связанные с обеспечением функциональности банковского эквайринга, а также произведено их сравнение, разработан метод решения, который позволит реализовать собственную программную систему для банковского эквайринга. Дальнейшее развитие исследования будет заключаться в построении первого прототипа приложения с последующей реализацией всей системы.

Список источников
Стандарт ISO8583 [Электронный ресурс]. – Режим доступа: https://ru.wikipedia.org/wiki/ISO_8583 (дата обращения: 10.10.2018)
ACI ACQUIRERI [Электронный ресурс]. – Режим доступа: https://www.aciworldwide.com/products/acquirer (дата обращения: 10.10.2018)
WAY4 Merchant [Электронный ресурс]. – Режим доступа: https://www.openwaygroup.com/way4-merchant-acquiring-system (дата обращения: 10.10.2018)
Card Suite Acquiring [Электронный ресурс]. – Режим доступа: https://www.tieto.ru/industries/financial-services-card-suite/acquiring (дата обращения: 10.10.2018)
TAdviser [Электронный ресурс]. – Режим доступа: http://www.tadviser.ru/index.php/%D0%9A%D0%BE%D0%BC%D0%BF%D0%B0%D0%BD%D0%B8%D1%8F:OpenWay_Service (дата обращения: 10.10.2018)